{/* DynAvatar.mdx */}
import { Meta, Canvas, Controls } from '@storybook/blocks';
import * as Stories from './DynAvatar.stories';

<Meta of={Stories} />

# DynAvatar

User avatar with image fallback to initials and customizable styling.

## Overview

DynAvatar displays user profile images with automatic fallback:
- Image with graceful error handling
- Automatic initials generation from name
- Multiple size variants
- Status indicator support
- Accessible alt text

<Canvas of={Stories.Default} />

## Use Cases

- **User profiles** - Display user identity in headers, lists
- **Comment threads** - Show comment authors
- **Team members** - Display team rosters
- **Chat interfaces** - Show conversation participants

## Variants

### Sizes

<Canvas of={Stories.Sizes} />

### With Status Indicator

<Canvas of={Stories.WithStatus} />

### Fallback Initials

<Canvas of={Stories.Fallback} />

## Accessibility

- Proper `alt` text for images
- Fallback to text content for screen readers
- Color contrast meets WCAG AA standards
- Status indicators have accessible labels

## Best Practices

✅ **Do:**
- Always provide a `name` prop for fallback initials
- Use appropriate size for context
- Optimize images for display size
- Include status only when meaningful

❌ **Don't:**
- Use excessively large images
- Omit alt text or name
- Stack too many avatars (use avatar group)
- Use for non-person entities without context

## Props

<Controls of={Stories.Default} />

## Examples

### Basic Avatar

```tsx
import { DynAvatar } from '@dynui-max/core';

<DynAvatar 
  name="John Doe" 
  src="https://example.com/avatar.jpg"
  size="md"
/>
```

### Avatar Group

```tsx
import { DynAvatar, DynBox } from '@dynui-max/core';

const users = [
  { name: 'Alice Johnson', src: '...' },
  { name: 'Bob Smith', src: '...' },
  { name: 'Carol White', src: '...' },
];

<DynBox display="flex" style={{ marginLeft: '-8px' }}>
  {users.map(user => (
    <DynAvatar
      key={user.name}
      name={user.name}
      src={user.src}
      size="sm"
      style={{ marginLeft: '-8px', border: '2px solid white' }}
    />
  ))}
</DynBox>
```